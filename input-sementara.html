<!DOCTYPE html>
<html>

<head>
    <title>kapal karam</title>
    <style>
        input {
            display: block;
        }
    </style>
</head>

<body>
    <form id="x">
        brand
        <input type="text" id="brand" required />
        model
        <input type="text" id="model" required />
        power (integer woy)
        <input type="number" id="power" required />
        max_speed (integer woy)
        <input type="number" id="max_speed" required />
        acceleration (integer woy)
        <input type="number" id="acceleration" required />
        image
        <input type="text" id="image" required />
        image_overview
        <input type="text" id="image_overview" />
        image_engine
        <input type="text" id="image_engine" />
        image_interior
        <input type="text" id="image_interior" />
        image_exterior
        <input type="text" id="image_exterior" />
        description
        <input type="text" id="description" required />
        power_consumption
        <input type="text" id="power_consumption" required />
        price
        <input type="text" id="price" required />
        overview
        <input type="text" id="overview" required />
        <button type="submit">kirim</button>
    </form>
    <script>


        document.getElementById("x").addEventListener("submit", async (event) => {
            event.preventDefault();
            let brand = document.getElementById("brand").value
            let model = document.getElementById("model").value
            let power = document.getElementById("power").value
            let max_speed = document.getElementById("max_speed").value
            let acceleration = document.getElementById("acceleration").value
            let image = document.getElementById("image").value
            let image_overview = document.getElementById("image_overview").value
            let image_engine = document.getElementById("image_engine").value
            let image_interior = document.getElementById("image_interior").value
            let image_exterior = document.getElementById("image_exterior").value
            let description = document.getElementById("description").value
            let power_consumption = document.getElementById("power_consumption").value
            let price = document.getElementById("price").value
            let overview = document.getElementById("overview").value
            try {
                const response = await fetch("http://localhost:3000/cars", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({ brand, model, power, max_speed, acceleration, image, image_overview, image_engine, image_interior, image_exterior, description, power_consumption, price, overview })
                });
                const result = await response.json();
                if (response.ok) {
                    alert("created");
                    console.log(result)
                } else {
                    alert("error");
                }
            } catch (error) {
                console.log(error);
            }
        })
    </script>
</body>

</html>